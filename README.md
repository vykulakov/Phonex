# Phonex

Phonex - RESTful сервис для получения информации по номеру телефона согласно выписке из реестра Российской системы и плана нумерации.

Информация о номере телефона включает в себя наименование оператора связи и регион номера телефона.

При получении информации следует учитывать, что сервис не отслеживает переход номера телефона от одного оператора к другому ([MNP](https://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%BD%D0%BE%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C_%D1%82%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%BD%D1%8B%D1%85_%D0%BD%D0%BE%D0%BC%D0%B5%D1%80%D0%BE%D0%B2))

## Phonex API

Во всех методах API префикс `phonex` может быть изменён через конфигурация сервиса.

### Поиск информации по номеру телефона

    /phonex/search/{phone}

`phone` - номер телефона в формате `7XXXXXXXXXX`. В ответ на `GET` запрос по указанному адресу приходит JSON ответ следующих форматов:

    {"result":{result}, "message":"{message}"}

или

    {"result":{result}, "message":"{message}", "phone": {"phone":"7XXXXXXXXXX", "operator":"Оператор", "region":"Регион"}}

где `result` - код ответа, который может принимать следующие значения:

|result|message|Описание|
|------|-------|--------|
|0||Информация по номеру телефона успешно найдена.|
|1|Номер телефона не передан|Номер телефона не передан|
|2|Передан некорректный номер телефона|Передан некорректный номер телефона|
|3|Информация по номеру телефона не найдена|Информация по номеру телефона не найдена|
|99|Внутренняя ошибка на сервере|Внутренняя ошибка на сервере|

## TODO

1. Исследовать возможность использования DI.
2. Обновлять выписку только при её изменении.
3. В ответах на вызовы методов API использовать кеширующие заголовки.

## Ссылки

1. [Выписка из реестра Российской системы и плана нумерации](https://www.rossvyaz.ru/activity/num_resurs/registerNum/)
